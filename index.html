<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holly Jolly Show</title>
    
    <!-- Open Graph / Facebook / iMessage meta tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hollyjollyshow.com/">
    <meta property="og:title" content="Holly Jolly Holiday Show - Seattle's Seasonal Variety Show">
    <meta property="og:description" content="Join us for the 4th Annual Holly Jolly Holiday Show featuring holiday songs, comedy, drag queens, and more!">
    <meta property="og:image" content="https://hollyjollyshow.com/images/holly-jolly-preview.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <!-- Twitter Card meta tags -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://hollyjollyshow.com/">
    <meta property="twitter:title" content="Holly Jolly Holiday Show - Seattle's Seasonal Variety Show">
    <meta property="twitter:description" content="Join us for the 4th Annual Holly Jolly Holiday Show featuring holiday songs, comedy, drag queens, and more!">
    <meta property="twitter:image" content="https://hollyjollyshow.com/images/holly-jolly-preview.jpg">
    
    <!-- Additional meta tags for better sharing -->
    <meta name="description" content="Seattle's seasonal variety show featuring holiday songs, comedy, drag queens, and more! Join us for the 4th Annual Holly Jolly Holiday Show.">
    <meta name="keywords" content="Holly Jolly Holiday Show, Seattle, variety show, holiday, comedy, drag queens, music, Barboza">
    <meta name="author" content="Holly Jolly Holiday Show">
    <!-- Link to Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Basic styles for the page */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden; /* Prevent scrolling */
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            font-size: 18px;
            background-color: #f0f0f0;
            position: relative;
        }

        .carousel {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .carousel-images {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
            width: 100vw; /* Set to the width of the viewport */
        }

        .carousel-images img {
            min-width: 100vw; /* Ensures each image takes the full width of the viewport */
            height: 100vh; /* Ensures each image takes the full height of the viewport */
            object-fit: cover; /* Ensures images cover the entire container */
        }

        .title-container {
            position: absolute;
            top: 20px;
            width: 100%;
            text-align: center;
            z-index: 10; /* Ensures the title is on top of everything */
        }

        .title {
            font-family: 'Great Vibes', cursive;
            font-size: 80px; /* Larger for impact */
            color: #FF0000; /* Festive red color */
            text-shadow: 2px 2px 4px #000000; /* Adds a subtle shadow for contrast */
            margin: 0;
        }

        .subtitle {
    font-family: 'Great Vibes', cursive;
    font-size: 32px; /* Adjust size as needed */
    color: #FF0000; /* Festive red color */
    /* text-shadow: 2px 2px 4px #000000; Adds a subtle shadow for contrast */
    margin: 0;
    background-color: #FFFF00; /* Highlighted background color */
    padding-top: 10px; 
    border-radius: 4px; /* Optional for rounded corners */
    text-decoration: none;
}
        .separator {
            margin: 10px auto;
            width: 50%;
            border: 0;
            height: 1px;
            background-color: #ff0000; /* Festive red color */
        }

        .about-link {
            font-size: 22px;
            color: #ffffff; /* White color for visibility */
            text-decoration: none;
            background-color: #ff0000; /* Festive red background */
            padding: 8px 16px;
            border-radius: 4px;
            display: inline-block;
            margin-top: 10px;
            transition: background-color 0.3s;
        }

        .about-link:hover {
            background-color: #cc0000; /* Darker red on hover */
        }

        .controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: space-between;
        }

        .button {
            padding: 10px 20px;
            border: none;
            background-color: #007bff;
            color: white;
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .button:hover {
            background-color: #0056b3;
        }
        .album-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            
        }

        .album-button {
            padding: 15px 30px;
            font-size: 20px;
            font-weight: bold;
            background-color: #1a73e8;
            color: #ffffff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-right: 10px;
        }

        .album-button:hover {
            background-color: #1558b0;
        }

        .album-button:active {
            background-color: #0e3a75;
        }

        /* Carousel indicator styles */
        .carousel-indicator.active {
            background: rgba(255,255,255,0.9) !important;
        }

        .carousel-indicator:hover {
            background: rgba(255,255,255,0.7) !important;
        }


        /* Button disabled state during transitions */
        .carousel-controls button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        .carousel-indicator:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        /* Blurb overlay styles */
        .carousel-blurb {
            position: absolute;
            bottom: 140px; /* Closer to indicators at 120px */
            left: 50%;
            transform: translateX(-50%);
            z-index: 25;
            max-width: 560px; /* Narrower width */
            width: 75vw; /* Smaller relative width */
            box-sizing: border-box;
            padding: 10px 16px;
            font-size: 20px;
            color: #ffffff;
            text-align: center;
            background: rgba(0, 0, 0, 0.45);
            border-radius: 8px;
            backdrop-filter: blur(1px);
            -webkit-backdrop-filter: blur(1px);
            transition: opacity 0.4s ease;
            opacity: 0; /* Fade in managed via JS */
        }

        @media (max-width: 768px) {
            .carousel-blurb {
                bottom: 140px; /* Keep close to indicators on mobile too */
                font-size: 18px;
                padding: 8px 12px;
                width: 85vw; /* Slightly wider on small screens for readability */
            }
        }

    </style>
</head>
<body>
    <!-- Title and Link Container -->
    <div class="title-container">
        <h1 class="title">Holly Jolly Show</h1>
        <hr class="separator">
        <a href="https://www.lydianstudio.com"> Take Lessons with Holly</a>
        <!-- <h1 class="subtitle">Saturday Dec 7, 2024 @ <a class="subtitle" href="https://maps.app.goo.gl/9Dr18VJxfkAUVSTDA" >Barbosa</a></h1> -->
        
        <!-- <a class="about-link" href="https://tix.axs.com/ZuaECQAAAAABcw6DAAAAAAC3%2fv%2f%2f%2fwD%2f%2f%2f%2f%2fGU5ldW1vcy9CYXJib3phL1RoZVJ1bmF3YXkA%2f%2f%2f%2f%2f%2f%2f%2f%2f%2f8%3d/shop/search?locale=en-US&axssid=pvkmolq3c5fo02ermnu1kb8nqm&preFill=1&eventid=718033&ec=BBZ241207&skin=barboza&src=AEGAXS1_WMAIN&t_originalReferringURL=&_gl=1*gjbjzj*_gcl_au*ODM5Nzg3OTUuMTczMTE4Mzg5Nw..*_ga*ODQ5NzExNzE1LjE3MzExODM4OTc.*_ga_D0FS4F37VT*MTczMTE4Mzg5Ny4xLjAuMTczMTE4Mzg5Ny42MC4wLjEyNzcwNzI0Ng..">Get Tickets</a> -->
        <br/>
        <a href="about.html" class="about-link">About</a>
        <a href="simple-email-signup.html" class="about-link" style="margin-left: 10px;">Stay Connected</a>
        <!-- <a href="analytics.html" class="about-link" style="margin-left: 10px;">Analytics</a> -->
    </div>




    <div class="carousel">
        <div class="carousel-images" id="carousel-images">
            <!-- Images will be dynamically added here by JavaScript -->
        </div>
        <div id="carousel-blurb" class="carousel-blurb" aria-live="polite" role="status"></div>
    </div>

    <div class="controls">
        <div class="controls">
            <!-- Replace existing `navigateToAlbum` function with direct links to the Dropbox albums -->
            <a href="https://www.dropbox.com/scl/fo/7l8fxs3tbnq5bt0u8fqnl/AHt1H48R-vU1FgWabyJgjls?rlkey=gvcrebg6g2ibgfw8dt3xstmau&st=dknb4oip&dl=0" class="album-button" target="_blank" id="album-2021">2021</a>
            <a href="https://www.dropbox.com/scl/fo/3gisvd6dr1xgg7bebizt7/ADgOpX8xf7QKUyo-w6yWcDI?rlkey=s0jnipzyddarw58o1tc95iyjo&st=6h2lniyf&dl=0" class="album-button" target="_blank" id="album-2022">2022</a>
            <a href="https://www.dropbox.com/scl/fo/82i33yhdeoknfdrstvq7l/AHKmiYtBXJGaOpN97T6UM80?rlkey=zeikhlv3g85wgmbndvvolucwl&st=94v8uuhf&dl=0" class="album-button" target="_blank" id="album-2023">2023</a>
            <a href="https://www.dropbox.com/scl/fo/o744weupb63fwibtuppdz/AC5Lutbs4XsSxoxHkhqf3sU?rlkey=zhv9gme07vkmwitquxy7k4c6y&st=ohsexqb2&dl=0" class="album-button" target="_blank" id="album-2024">2024</a>
        </div>

        <!-- <button class="button" onclick="prevImage()">Previous</button> -->
        <!-- <button class="button" onclick="nextImage()">Next</button> -->
    </div>

    <script>
        
        // Array of image filenames in the carousel folder
        // Simply update this array when you add/remove images from the carousel folder
        const carouselImages = [
            'Holly Jolly Finals-3.jpg',
            'Holly Jolly Finals-35.jpg', 
            'Holly Jolly Finals-41.jpg',
            'Holly Jolly Finals-52.jpg',
            'Holly Jolly Finals-53.jpg',
            'Holly Jolly Finals-65.jpg',
            'Holly Jolly Finals-69.jpg',
            'Holly Jolly Finals-70.jpg'
        ];

        // Marketing stats/blurbs to rotate with the carousel
        // Replace these with real stats when ready
        const carouselStats = [
            '250+ Sold Out at Chop Suey (2023)',
            '4 years running â€” Seattleâ€™s seasonal variety show',
            'Live bands, singers, drag, and comedy, and crowd carols',
            'Supporting local new and seasoned artists.',
            '200+ presale and Sold at Barboza (2024).'
        ];

        // Function to dynamically load images into the carousel
        function loadImages() {
            console.log('ðŸ“¸ Starting to load carousel images...');
            console.log(`ðŸ“¸ Loading ${carouselImages.length} images:`, carouselImages);
            
            const carouselContainer = document.getElementById('carousel-images');
            carouselContainer.innerHTML = ''; // Clear existing images
            
            let loadedCount = 0;
            const totalImages = carouselImages.length;
            
            carouselImages.forEach((filename, index) => {
                console.log(`ðŸ“¸ Loading image ${index + 1}/${totalImages}: ${filename}`);
                const img = document.createElement('img');
                img.src = `carousel/${filename}`;
                img.alt = filename;
                
                img.onload = function() {
                    loadedCount++;
                    console.log(`âœ… Image ${index + 1}/${totalImages} loaded successfully: ${filename}`);
                    console.log(`ðŸ“¸ Loaded ${loadedCount}/${totalImages} images`);
                    
                    if (loadedCount === totalImages) {
                        console.log('ðŸŽ‰ All images loaded! Initializing carousel...');
                        initializeCarousel();
                    }
                };
                
                img.onerror = function() {
                    loadedCount++;
                    console.error(`âŒ Failed to load image ${index + 1}/${totalImages}: ${filename}`);
                    console.log(`ðŸ“¸ Loaded ${loadedCount}/${totalImages} images (with errors)`);
                    
                    if (loadedCount === totalImages) {
                        console.log('âš ï¸ All images processed (some failed). Initializing carousel...');
                        initializeCarousel();
                    }
                };
                
                carouselContainer.appendChild(img);
            });
        }

        // Initialize carousel functionality
        function initializeCarousel() {
            console.log('ðŸŽ  Initializing carousel...');
            const images = document.querySelectorAll('#carousel-images img');
            console.log(`ðŸŽ  Found ${images.length} images in carousel`);
            
            if (images.length === 0) {
                console.warn('âš ï¸ No images found in carousel folder');
                return;
            }
            
            let currentIndex = 0;
            let isTransitioning = false; // Flag to prevent rapid clicking issues
            let autoRotateTimeout = null; // Track auto-rotation restart timeout
            
            // Blurb setup and updater
            const blurbElement = document.getElementById('carousel-blurb');
            function updateBlurb(index) {
                if (!blurbElement) return;
                if (!carouselStats || carouselStats.length === 0) {
                    blurbElement.style.display = 'none';
                    return;
                }
                blurbElement.style.display = 'block';
                const nextText = carouselStats[index % carouselStats.length];
                if (blurbElement.innerText === nextText && blurbElement.style.opacity === '1') {
                    return;
                }
                // Fade out, update, fade in
                blurbElement.style.opacity = '0';
                setTimeout(() => {
                    blurbElement.innerText = nextText;
                    blurbElement.style.opacity = '1';
                }, 150);
            }

            
            function showImage(index) {
                console.log(`ðŸ–¼ï¸ showImage called with index: ${index}`);
                console.log(`ðŸ–¼ï¸ Current index before change: ${currentIndex}`);
                console.log(`ðŸ–¼ï¸ Images length: ${images.length}`);
                
                if (isTransitioning) {
                    console.log('âš ï¸ Transition in progress, ignoring showImage call');
                    return;
                }
                
                isTransitioning = true;
                
                // Disable all controls during transition
                const allButtons = document.querySelectorAll('.carousel-controls button, .carousel-indicator');
                allButtons.forEach(button => button.disabled = true);
                
                const totalImages = images.length;
                const newIndex = (index + totalImages) % totalImages;
                console.log(`ðŸ–¼ï¸ Calculated new index: ${newIndex}`);
                
                currentIndex = newIndex;
                const offset = -currentIndex * 100;
                console.log(`ðŸ–¼ï¸ Transform offset: ${offset}vw`);
                
                const carouselElement = document.getElementById('carousel-images');
                carouselElement.style.transform = `translateX(${offset}vw)`;
                
                console.log(`ðŸ–¼ï¸ Applied transform: translateX(${offset}vw)`);
                console.log(`ðŸ–¼ï¸ Current index after change: ${currentIndex}`);
                
                // Update any indicators if they exist
                updateIndicators();
                // Update blurb text to match current slide
                updateBlurb(currentIndex);
                
                // Reset transition flag after animation completes
                setTimeout(() => {
                    isTransitioning = false;
                    
                    // Re-enable all controls after transition
                    const allButtons = document.querySelectorAll('.carousel-controls button, .carousel-indicator');
                    allButtons.forEach(button => button.disabled = false);
                    
                    console.log('âœ… Transition completed, ready for next interaction');
                }, 500); // Match the CSS transition duration
            }
            
            function updateIndicators() {
                console.log(`ðŸ”˜ Updating indicators for current index: ${currentIndex}`);
                const indicators = document.querySelectorAll('.carousel-indicator');
                console.log(`ðŸ”˜ Found ${indicators.length} indicators`);
                indicators.forEach((indicator, index) => {
                    const isActive = index === currentIndex;
                    indicator.classList.toggle('active', isActive);
                    console.log(`ðŸ”˜ Indicator ${index}: ${isActive ? 'ACTIVE' : 'inactive'}`);
                });
            }
            
            function prevImage() {
                console.log(`â¬…ï¸ prevImage called - current index: ${currentIndex}`);
                showImage(currentIndex - 1);
            }
            
            function nextImage() {
                console.log(`âž¡ï¸ nextImage called - current index: ${currentIndex}`);
                showImage(currentIndex + 1);
            }
            
            // Add manual controls if they don't exist
            if (!document.querySelector('.carousel-controls')) {
                const controlsContainer = document.createElement('div');
                controlsContainer.className = 'carousel-controls';
                controlsContainer.style.cssText = `
                    position: absolute;
                    top: 50%;
                    transform: translateY(-50%);
                    width: 100%;
                    display: flex;
                    justify-content: space-between;
                    padding: 0 30px;
                    z-index: 20;
                    box-sizing: border-box;
                `;
                
                const prevButton = document.createElement('button');
                prevButton.innerHTML = 'â€¹';
                prevButton.style.cssText = `
                    background: rgba(0,0,0,0.5);
                    color: white;
                    border: none;
                    border-radius: 50%;
                    width: 50px;
                    height: 50px;
                    font-size: 24px;
                    cursor: pointer;
                    transition: background 0.3s;
                    margin: 0 10px;
                `;
                prevButton.onclick = () => {
                    console.log('ðŸ–±ï¸ Previous button clicked');
                    console.log('â¸ï¸ Clearing auto-rotation interval');
                    clearInterval(autoRotate); // Stop auto-rotation when manually navigating
                    
                    // Only proceed if not transitioning
                    if (!isTransitioning) {
                        prevImage();
                        // Clear any existing auto-rotation restart timeout
                        if (autoRotateTimeout) {
                            clearTimeout(autoRotateTimeout);
                        }
                        // Restart auto-rotation after manual navigation
                        console.log('â° Scheduling auto-rotation restart in 3 seconds');
                        autoRotateTimeout = setTimeout(() => {
                            console.log('ðŸ”„ Restarting auto-rotation');
                            autoRotate = setInterval(nextImage, 5000);
                        }, 3000);
                    } else {
                        console.log('âš ï¸ Previous button click ignored - transition in progress');
                    }
                };
                prevButton.onmouseenter = () => prevButton.style.background = 'rgba(0,0,0,0.8)';
                prevButton.onmouseleave = () => prevButton.style.background = 'rgba(0,0,0,0.5)';
                
                const nextButton = document.createElement('button');
                nextButton.innerHTML = 'â€º';
                nextButton.style.cssText = prevButton.style.cssText;
                nextButton.onclick = () => {
                    console.log('ðŸ–±ï¸ Next button clicked');
                    console.log('â¸ï¸ Clearing auto-rotation interval');
                    clearInterval(autoRotate); // Stop auto-rotation when manually navigating
                    
                    // Only proceed if not transitioning
                    if (!isTransitioning) {
                        nextImage();
                        // Clear any existing auto-rotation restart timeout
                        if (autoRotateTimeout) {
                            clearTimeout(autoRotateTimeout);
                        }
                        // Restart auto-rotation after manual navigation
                        console.log('â° Scheduling auto-rotation restart in 3 seconds');
                        autoRotateTimeout = setTimeout(() => {
                            console.log('ðŸ”„ Restarting auto-rotation');
                            autoRotate = setInterval(nextImage, 5000);
                        }, 3000);
                    } else {
                        console.log('âš ï¸ Next button click ignored - transition in progress');
                    }
                };
                nextButton.onmouseenter = () => nextButton.style.background = 'rgba(0,0,0,0.8)';
                nextButton.onmouseleave = () => nextButton.style.background = 'rgba(0,0,0,0.5)';
                
                controlsContainer.appendChild(prevButton);
                controlsContainer.appendChild(nextButton);
                
                document.querySelector('.carousel').appendChild(controlsContainer);
            }
            
            // Add indicators if they don't exist
            if (!document.querySelector('.carousel-indicators')) {
                const indicatorsContainer = document.createElement('div');
                indicatorsContainer.className = 'carousel-indicators';
                indicatorsContainer.style.cssText = `
                    position: absolute;
                    bottom: 120px;
                    left: 50%;
                    transform: translateX(-50%);
                    display: flex;
                    gap: 10px;
                    z-index: 20;
                `;
                
                for (let i = 0; i < images.length; i++) {
                    const indicator = document.createElement('button');
                    indicator.className = 'carousel-indicator';
                    indicator.style.cssText = `
                        width: 12px;
                        height: 12px;
                        border-radius: 50%;
                        border: none;
                        background: rgba(255,255,255,0.5);
                        cursor: pointer;
                        transition: background 0.3s;
                    `;
                    indicator.onclick = () => {
                        console.log(`ðŸ–±ï¸ Indicator ${i} clicked`);
                        console.log('â¸ï¸ Clearing auto-rotation interval');
                        clearInterval(autoRotate); // Stop auto-rotation when manually navigating
                        
                        // Only proceed if not transitioning
                        if (!isTransitioning) {
                            showImage(i);
                            // Clear any existing auto-rotation restart timeout
                            if (autoRotateTimeout) {
                                clearTimeout(autoRotateTimeout);
                            }
                            // Restart auto-rotation after manual navigation
                            console.log('â° Scheduling auto-rotation restart in 3 seconds');
                            autoRotateTimeout = setTimeout(() => {
                                console.log('ðŸ”„ Restarting auto-rotation');
                                autoRotate = setInterval(nextImage, 5000);
                            }, 3000);
                        } else {
                            console.log(`âš ï¸ Indicator ${i} click ignored - transition in progress`);
                        }
                    };
                    indicatorsContainer.appendChild(indicator);
                }
                
                document.querySelector('.carousel').appendChild(indicatorsContainer);
                updateIndicators();
            }
            
            // Auto-rotate images every 5 seconds
            console.log('ðŸ”„ Starting auto-rotation (5 second intervals)');
            let autoRotate = setInterval(() => {
                console.log('â° Auto-rotation tick - calling nextImage()');
                nextImage();
            }, 5000);
            
            // Pause auto-rotation on hover
            const carousel = document.querySelector('.carousel');
            carousel.onmouseenter = () => {
                console.log('ðŸ–±ï¸ Mouse entered carousel - pausing auto-rotation');
                clearInterval(autoRotate);
            };
            carousel.onmouseleave = () => {
                console.log('ðŸ–±ï¸ Mouse left carousel - resuming auto-rotation');
                autoRotate = setInterval(() => {
                    console.log('â° Auto-rotation tick - calling nextImage()');
                    nextImage();
                }, 5000);
            };
            
            // Show first image
            console.log('ðŸŽ  Showing first image (index 0)');
            // Initialize blurb before first fade to avoid initial flash
            if (document.getElementById('carousel-blurb') && carouselStats && carouselStats.length) {
                const initialBlurb = document.getElementById('carousel-blurb');
                initialBlurb.innerText = carouselStats[0 % carouselStats.length];
                initialBlurb.style.display = 'block';
                initialBlurb.style.opacity = '1';
            }
            showImage(0);
            console.log('ðŸŽ  Carousel initialization complete!');
        }

        // Load carousel images when page loads
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ðŸš€ DOM Content Loaded - starting carousel setup');
            loadImages();
        });
    </script>
</body>
</html>